<!doctype html>
<html lang="en"
      th:replace="~{base :: parent(~{::#content}, ~{::title}, ~{::script})}">

<head>
    <title>Login | Smart Contact Manager</title>
</head>

<body>

<div id="content" class="bg-gray-50 dark:bg-gray-900 min-h-screen">

    <!-- HERO BACKDROP -->
    <section class="relative pt-32 pb-20 overflow-hidden">

        <!-- Gradient Background -->
        <div class="absolute inset-0 -z-10 bg-gradient-to-br
                    from-indigo-600 via-purple-600 to-pink-500
                    opacity-15 dark:opacity-25"></div>

        <div class="max-w-md mx-auto px-6">

            <!-- Login Card -->
            <div class="bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-8 md:p-10">

                <!-- Message Box -->
                <div data-th-replace="~{message::messagebox}"></div>

                <!-- Title -->
                <div class="text-center mb-8">
                    <h1 class="text-3xl font-extrabold text-gray-900 dark:text-white">
                        Welcome Back ðŸ‘‹
                    </h1>
                    <p class="mt-2 text-gray-600 dark:text-gray-300">
                        Login to manage your contacts securely
                    </p>
                </div>

                <!-- Error / Logout Messages -->
                <div class="text-red-600 text-center mb-4"
                     th:if="${param.error}">
                    Invalid email or password.
                </div>

                <div class="text-green-600 text-center mb-4"
                     th:if="${param.logout}">
                    You have been logged out successfully.
                </div>

                <!-- Login Form -->
                <form method="post"
                      data-th-action="@{'/authenticate'}"
                      class="space-y-6">

                    <!-- Email -->
                    <div>
                        <label class="block mb-2 text-sm font-medium text-gray-700 dark:text-gray-200">
                            Email
                        </label>
                        <input name="email"
                               type="email"
                               required
                               placeholder="Enter email or username"
                               class="w-full rounded-xl border px-4 py-3 text-sm
                                      bg-gray-50 dark:bg-gray-700 dark:border-gray-600
                                      focus:ring-indigo-500 focus:border-indigo-500">
                    </div>

                    <!-- Password -->
                    <div>
                        <label class="block mb-2 text-sm font-medium text-gray-700 dark:text-gray-200">
                            Password
                        </label>
                        <input name="password"
                               type="password"
                               required
                               placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                               class="w-full rounded-xl border px-4 py-3 text-sm
                                      bg-gray-50 dark:bg-gray-700 dark:border-gray-600
                                      focus:ring-indigo-500 focus:border-indigo-500">
                    </div>

                    <!-- Buttons -->
                    <div class="flex gap-4 pt-2">
                        <button type="submit"
                                class="w-full py-3 rounded-xl bg-indigo-600 hover:bg-indigo-700
                                       text-white font-semibold shadow transition">
                            Login
                        </button>

                        <button type="reset"
                                class="w-full py-3 rounded-xl bg-gray-200 hover:bg-gray-300
                                       dark:bg-gray-700 dark:hover:bg-gray-600
                                       text-gray-900 dark:text-white font-semibold shadow transition">
                            Reset
                        </button>
                    </div>

                </form>

                <!-- Divider -->
                <div class="flex items-center my-8">
                    <div class="flex-grow border-t border-gray-300 dark:border-gray-600"></div>
                    <span class="px-4 text-sm text-gray-500 dark:text-gray-400">OR</span>
                    <div class="flex-grow border-t border-gray-300 dark:border-gray-600"></div>
                </div>

                <!-- Social Login -->
                <div class="space-y-4">

                    <!-- Google -->
                    <a data-th-href="@{'/oauth2/authorization/google'}"
                       class="w-full flex items-center justify-center gap-3 py-3 rounded-xl
                              bg-blue-600 hover:bg-blue-700
                              text-white font-semibold shadow transition">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                             fill="currentColor" viewBox="0 0 488 512">
                            <path d="M488 261.8C488 403.3 391.1 504 248 504
                                     110.8 504 0 393.2 0 256S110.8 8 248 8
                                     c66.8 0 123.1 24.6 166.2 65.3l-67.5 64.9
                                     C324.6 112.2 288.8 96 248 96
                                     c-84.2 0-152.6 68.3-152.6 160s68.4 160
                                     152.6 160c72.7 0 119.7-41.5 124.7-99.1H248v-79.2h240
                                     c2.3 13 4 25.8 4 40.1z"/>
                        </svg>
                        Sign in with Google
                    </a>

                    <!-- GitHub -->
                    <a data-th-href="@{'/oauth2/authorization/github'}"
                       class="w-full flex items-center justify-center gap-3 py-3 rounded-xl
                              bg-gray-700 hover:bg-gray-800
                              text-white font-semibold shadow transition">
                        <i class="fa-brands fa-github text-xl"></i>
                        Sign in with GitHub
                    </a>

                </div>

                <!-- Footer -->
                <p class="text-center text-sm text-gray-500 dark:text-gray-400 mt-8">
                    Donâ€™t have an account?
                    <a data-th-href="@{'/signup'}"
                       class="text-indigo-600 hover:underline font-medium">
                        Sign up here
                    </a>
                </p>

            </div>

        </div>

    </section>

</div>

<script>
    console.log("Login page loaded");
</script>

</body>
</html>
